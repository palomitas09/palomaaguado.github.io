<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Smart TV Experience | Paloma Aguado</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Roboto:wght@300;700&display=swap" rel="stylesheet">
    <style>
        :root { --netflix: #E50914; --disney: #0063e5; --hbo: #9966cc; --prime: #00a8e1; --bg: #050505; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: var(--bg); color: white; font-family: 'Montserrat', sans-serif; overflow: hidden; }

        /* 1. SMART TV (MENU PRINCIPAL) */
        #screen-tv {
            height: 100vh; width: 100vw;
            background: linear-gradient(to bottom, rgba(0,0,0,0.2), var(--bg)), url('../es/proyectos/slide-menu.jpg'); 
            background-size: cover; background-position: center;
            display: flex; flex-direction: column; justify-content: flex-end;
        }
        .tv-content { padding: 60px 80px; background: linear-gradient(transparent, rgba(0,0,0,0.9)); }
        .apps-row { display: flex; gap: 20px; margin-top: 30px; }
        .app-card {
            width: 140px; height: 90px; background: rgba(255,255,255,0.1);
            border-radius: 12px; display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: 0.3s; border: 2px solid transparent; backdrop-filter: blur(10px);
        }
        .app-card:hover { transform: scale(1.15); border-color: white; }
        .app-card img { max-width: 75%; max-height: 60%; object-fit: contain; }

        /* 2. PANTALLAS DE PERFIL ADAPTATIVAS */
        #screen-profile {
            position: absolute; top:0; left:0; width: 100%; height: 100%;
            display: none; flex-direction: column; justify-content: center; align-items: center; z-index: 100;
            transition: background 0.5s ease;
        }

        /* El contenedor de la imagen ahora es dinámico */
        .profile-img { 
            width: 160px; height: 160px; 
            background-size: cover;
            background-position: center;
            border: 3px solid transparent;
            transition: 0.3s;
        }
        
        /* ESTILOS ESPECÍFICOS POR MARCA */
        .mode-netflix { background: #141414; }
        .mode-netflix .profile-img { border-radius: 4px; }
        .mode-netflix .profile-img:hover { border-color: white; transform: scale(1.05); }

        .mode-disney { background: radial-gradient(circle, #1a1d29, #02040a); }
        .mode-disney .profile-img { border-radius: 50%; border: 4px solid rgba(255,255,255,0.2); }
        .mode-disney .profile-img:hover { border-color: #00e6ff; box-shadow: 0 0 20px #00e6ff; }

        .mode-prime { background: #0f171e; }
        .mode-prime .profile-img { border-radius: 20px; }
        .mode-prime .profile-img:hover { border-color: var(--prime); }

        .mode-hbo { background: black; font-family: 'Roboto', sans-serif; }
        .mode-hbo .profile-img { border-radius: 50%; border: 1px solid #333; }
        .mode-hbo .profile-img:hover { border-color: var(--hbo); box-shadow: 0 0 30px rgba(153, 102, 204, 0.4); }

        /* 3. INTERFACES FINALES */
        .slide { position: absolute; top:0; left:0; width: 100vw; height: 100vh; display: none; background-size: contain; background-repeat: no-repeat; background-position: center; }
        
        .back-arrow {
            position: fixed; top: 30px; left: 40px; width: 40px; height: 40px;
            background: rgba(255,255,255,0.1); border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; z-index: 500; transition: 0.3s;
        }
        .back-arrow:hover { background: white; color: black; }

        .video-overlay { position: absolute; top: 20%; left: 15%; width: 70%; height: 50%; z-index: 10; border-radius: 8px; overflow: hidden; }
        iframe { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body>

    <div id="btn-back" class="back-arrow" style="display:none;" onclick="handleBack()">←</div>

    <section id="screen-tv" style="display: flex;">
        <div class="tv-content">
            <h1 style="font-size: 2.5rem; margin:0;">Smart TV Home</h1>
            <div class="apps-row">
                <div class="app-card" onclick="startLogin('netflix')"><img src="../es/proyectos/netflix-logo.png"></div>
                <div class="app-card" onclick="startLogin('prime')"><img src="../es/proyectos/prime video.png"></div>
                <div class="app-card" onclick="startLogin('hbo')"><img src="../es/proyectos/hbo.png"></div>
                <div class="app-card" onclick="startLogin('disney')"><img src="../es/proyectos/disney.png"></div>
            </div>
        </div>
    </section>

    <section id="screen-profile">
        <h1 id="profile-title" style="font-weight: 300; font-size: 2.5rem; margin-bottom: 40px;">¿Quién eres?</h1>
        <div class="profile-box" onclick="accessApp()" style="text-align: center; cursor: pointer;">
            <div id="p-img" class="profile-img"></div>
            <p id="p-name" style="margin-top: 20px; font-size: 1.2rem; letter-spacing: 1px;">Paloma</p>
        </div>
    </section>

    <div id="slide-netflix" class="slide" style="background-image: url('../es/proyectos/tfm-netflix.jpg'); background-color: #141414;"></div>
    <div id="slide-prime" class="slide" style="background-image: url('../es/proyectos/tfm-prime.jpg'); background-color: #0f171e;"></div>
    <div id="slide-hbo" class="slide" style="background-image: url('../es/proyectos/tfm-hbo.jpg'); background-color: #000;"><div class="video-overlay" id="vid-hbo"></div></div>
    <div id="slide-disney" class="slide" style="background-image: url('../es/proyectos/tfm-disney.jpg'); background-color: #1a1d29;"><div class="video-overlay" id="vid-disney"></div></div>

    <script>
        let selectedApp = "";
        let currentStep = "tv"; 

        // Configuración de rutas de imagen y textos
        const configs = {
            netflix: { title: "¿Quién eres?", img: "../es/proyectos/perfil-paloma.jpg" },
            disney:  { title: "¿Quién eres?", img: "../es/proyectos/perfil-disney.png" },
            prime:   { title: "¿Quién está viendo?", img: "../es/proyectos/perfil-prime.jpg" },
            hbo:     { title: "¿Quién está viendo?", img: "../es/proyectos/perfil-hbo.png" }
        };

        function startLogin(appId) {
            selectedApp = appId;
            currentStep = "profile";
            
            const screen = document.getElementById('screen-profile');
            const profileImg = document.getElementById('p-img');
            
            // 1. Cambiamos el estilo del contenedor (clase CSS)
            screen.className = 'mode-' + appId;
            
            // 2. Cambiamos el texto
            document.getElementById('profile-title').innerText = configs[appId].title;
            
            // 3. Cambiamos la imagen de fondo específicamente
            profileImg.style.backgroundImage = `url('${configs[appId].img}')`;
            
            updateDisplay();
        }

        function accessApp() {
            currentStep = "app";
            updateDisplay();
            if(selectedApp === 'hbo') {
                document.getElementById('vid-hbo').innerHTML = `<iframe src="https://www.youtube.com/embed/TcYRdfOJXL8?autoplay=1&mute=1" allow="autoplay"></iframe>`;
            } else if(selectedApp === 'disney') {
                document.getElementById('vid-disney').innerHTML = `<iframe src="https://www.youtube.com/embed/dgulLqAKjvk?autoplay=1&mute=1" allow="autoplay"></iframe>`;
            }
        }

        function handleBack() {
            if (currentStep === "app") {
                currentStep = "profile";
                document.getElementById('vid-hbo').innerHTML = "";
                document.getElementById('vid-disney').innerHTML = "";
            } else if (currentStep === "profile") {
                currentStep = "tv";
            }
            updateDisplay();
        }

        function updateDisplay() {
            document.getElementById('screen-tv').style.display = 'none';
            document.getElementById('screen-profile').style.display = 'none';
            document.querySelectorAll('.slide').forEach(s => s.style.display = 'none');
            document.getElementById('btn-back').style.display = 'flex';

            if (currentStep === "tv") {
                document.getElementById('screen-tv').style.display = 'flex';
                document.getElementById('btn-back').style.display = 'none';
            } else if (currentStep === "profile") {
                document.getElementById('screen-profile').style.display = 'flex';
            } else if (currentStep === "app") {
                document.getElementById('slide-' + selectedApp).style.display = 'block';
            }
        }
    </script>
</body>
</html>
